<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Podcast Knowledge Graph System - Technical Documentation</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --background: #0f0f1a;
            --surface: #1a1a2e;
            --surface-light: #2d2d44;
            --text: #ffffff;
            --text-muted: #888;
            --success: #22c55e;
            --warning: #f59e0b;
            --error: #ef4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--background);
            color: var(--text);
            line-height: 1.7;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 60px 0;
            background: linear-gradient(135deg, var(--surface) 0%, var(--background) 100%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }

        .header .subtitle {
            font-size: 1.2rem;
            color: var(--text-muted);
        }

        .header .meta {
            margin-top: 20px;
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        /* Sections */
        section {
            margin-bottom: 50px;
        }

        h2 {
            font-size: 1.8rem;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
            display: inline-block;
        }

        h3 {
            font-size: 1.3rem;
            margin: 25px 0 15px;
            color: var(--primary);
        }

        h4 {
            font-size: 1.1rem;
            margin: 20px 0 10px;
            color: var(--text-muted);
        }

        p {
            margin-bottom: 15px;
            color: #ddd;
        }

        /* Cards */
        .card {
            background: var(--surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .feature-card {
            background: linear-gradient(135deg, var(--surface) 0%, var(--surface-light) 100%);
            border-radius: 12px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card .icon {
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .feature-card h4 {
            margin-top: 0;
            color: var(--text);
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--surface);
            border-radius: 8px;
            overflow: hidden;
        }

        th,
        td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        th {
            background: var(--surface-light);
            font-weight: 600;
            color: var(--primary);
        }

        tr:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        /* Code blocks */
        pre {
            background: #0d0d1a;
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: #e0e0e0;
        }

        .inline-code {
            background: var(--surface-light);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.85rem;
        }

        /* Architecture diagram */
        .architecture {
            background: var(--surface);
            border-radius: 12px;
            padding: 30px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            overflow-x: auto;
            white-space: pre;
            line-height: 1.4;
        }

        /* Flow diagram */
        .flow-step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 25px;
            position: relative;
        }

        .flow-step::before {
            content: '';
            position: absolute;
            left: 20px;
            top: 50px;
            height: calc(100% + 5px);
            width: 2px;
            background: linear-gradient(180deg, var(--primary), transparent);
        }

        .flow-step:last-child::before {
            display: none;
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
            z-index: 1;
        }

        .step-content {
            margin-left: 20px;
            flex: 1;
        }

        .step-content h4 {
            margin-top: 0;
            color: var(--text);
        }

        /* Tech stack badges */
        .tech-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .badge {
            background: var(--surface-light);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .badge.primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        /* Alerts */
        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border-left: 4px solid var(--warning);
        }

        .alert-success {
            background: rgba(34, 197, 94, 0.1);
            border-left: 4px solid var(--success);
        }

        .alert-danger {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid var(--error);
        }

        /* TOC */
        .toc {
            background: var(--surface);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 40px;
        }

        .toc h3 {
            margin-top: 0;
        }

        .toc ul {
            list-style: none;
            padding-left: 0;
        }

        .toc li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .toc a {
            color: var(--text-muted);
            text-decoration: none;
            transition: color 0.2s;
        }

        .toc a:hover {
            color: var(--primary);
        }

        /* Stats grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--surface) 0%, var(--surface-light) 100%);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 50px;
            color: var(--text-muted);
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>

<body>
    <header class="header">
        <div class="container">
            <h1>üéôÔ∏è Podcast Knowledge Graph System</h1>
            <p class="subtitle">AI-Powered Podcast Analysis with Knowledge Graph & Semantic Search</p>
            <p class="meta">Technical Documentation v1.0 | December 2025</p>
        </div>
    </header>

    <div class="container">
        <!-- Executive Summary -->
        <section id="summary">
            <h2>üìã Executive Summary</h2>

            <p>The <strong>Podcast Knowledge Graph System</strong> is an end-to-end AI-powered pipeline that processes
                YouTube podcast videos, extracts structured entities, builds a Neo4j knowledge graph, and enables hybrid
                search with hallucination resistance.</p>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">&gt;95%</div>
                    <div class="stat-label">Entity Precision</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">&lt;2s</div>
                    <div class="stat-label">Query Latency</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">10+</div>
                    <div class="stat-label">Entity Types</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">30</div>
                    <div class="stat-label">UAT Scenarios</div>
                </div>
            </div>
        </section>

        <!-- Key Capabilities -->
        <section id="capabilities">
            <h2>üåü Key Capabilities</h2>

            <div class="card-grid">
                <div class="feature-card">
                    <div class="icon">üéµ</div>
                    <h4>YouTube Integration</h4>
                    <p>Download and process any YouTube podcast with yt-dlp audio extraction.</p>
                </div>
                <div class="feature-card">
                    <div class="icon">üó£Ô∏è</div>
                    <h4>Speaker Diarization</h4>
                    <p>Identify who said what using AssemblyAI's advanced speaker labeling.</p>
                </div>
                <div class="feature-card">
                    <div class="icon">üß†</div>
                    <h4>Entity Extraction</h4>
                    <p>Extract People, Books, Movies, Companies, Topics using GPT-4 structured outputs.</p>
                </div>
                <div class="feature-card">
                    <div class="icon">üîó</div>
                    <h4>Knowledge Graph</h4>
                    <p>Build rich relationships in Neo4j with 10+ node types and 8+ relationship types.</p>
                </div>
                <div class="feature-card">
                    <div class="icon">üîç</div>
                    <h4>Semantic Search</h4>
                    <p>Vector similarity search using OpenAI embeddings and ChromaDB.</p>
                </div>
                <div class="feature-card">
                    <div class="icon">üõ°Ô∏è</div>
                    <h4>Hallucination Prevention</h4>
                    <p>Multi-layer verification system ensures accurate, evidence-based answers.</p>
                </div>
            </div>
        </section>

        <!-- Technology Stack -->
        <section id="tech-stack">
            <h2>üõ†Ô∏è Technology Stack</h2>

            <table>
                <thead>
                    <tr>
                        <th>Layer</th>
                        <th>Technology</th>
                        <th>Purpose</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Language</td>
                        <td>Python 3.10+</td>
                        <td>Primary development language</td>
                    </tr>
                    <tr>
                        <td>LLM</td>
                        <td>OpenAI GPT-4 Turbo</td>
                        <td>Entity extraction, answer synthesis</td>
                    </tr>
                    <tr>
                        <td>Embeddings</td>
                        <td>OpenAI text-embedding-3-small</td>
                        <td>Semantic vector generation</td>
                    </tr>
                    <tr>
                        <td>Transcription</td>
                        <td>AssemblyAI</td>
                        <td>Speech-to-text with speaker diarization</td>
                    </tr>
                    <tr>
                        <td>Graph Database</td>
                        <td>Neo4j 5.16+</td>
                        <td>Knowledge graph storage</td>
                    </tr>
                    <tr>
                        <td>Vector Database</td>
                        <td>ChromaDB</td>
                        <td>Embedding storage & similarity search</td>
                    </tr>
                    <tr>
                        <td>UI Framework</td>
                        <td>Streamlit</td>
                        <td>Interactive web interface</td>
                    </tr>
                    <tr>
                        <td>Video Processing</td>
                        <td>yt-dlp</td>
                        <td>YouTube audio extraction</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- System Architecture -->
        <section id="architecture">
            <h2>üèóÔ∏è System Architecture</h2>

            <style>
                /* Architecture Diagram Styles */
                .arch-container {
                    background: linear-gradient(180deg, var(--surface) 0%, var(--background) 100%);
                    border-radius: 20px;
                    padding: 40px;
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    overflow: hidden;
                }

                .arch-layer {
                    background: rgba(255, 255, 255, 0.03);
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    border-radius: 16px;
                    padding: 25px;
                    margin-bottom: 20px;
                    position: relative;
                }

                .arch-layer-title {
                    position: absolute;
                    top: -12px;
                    left: 20px;
                    background: var(--surface);
                    padding: 4px 16px;
                    border-radius: 20px;
                    font-size: 0.75rem;
                    font-weight: 700;
                    letter-spacing: 2px;
                    text-transform: uppercase;
                    color: var(--primary);
                    border: 1px solid rgba(255, 255, 255, 0.1);
                }

                .arch-boxes {
                    display: flex;
                    justify-content: center;
                    gap: 15px;
                    flex-wrap: wrap;
                }

                .arch-box {
                    background: linear-gradient(135deg, var(--surface-light) 0%, var(--surface) 100%);
                    border: 1px solid rgba(255, 255, 255, 0.15);
                    border-radius: 12px;
                    padding: 15px 25px;
                    text-align: center;
                    min-width: 140px;
                    transition: all 0.3s ease;
                    position: relative;
                    overflow: hidden;
                }

                .arch-box::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    height: 3px;
                    background: linear-gradient(90deg, var(--primary), var(--secondary));
                }

                .arch-box:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
                    border-color: var(--primary);
                }

                .arch-box .icon {
                    font-size: 1.8rem;
                    margin-bottom: 8px;
                }

                .arch-box .title {
                    font-weight: 600;
                    font-size: 0.9rem;
                    color: var(--text);
                }

                .arch-box .subtitle {
                    font-size: 0.75rem;
                    color: var(--text-muted);
                    margin-top: 4px;
                }

                .arch-arrow {
                    display: flex;
                    justify-content: center;
                    padding: 15px 0;
                    position: relative;
                }

                .arch-arrow::before {
                    content: '';
                    width: 3px;
                    height: 40px;
                    background: linear-gradient(180deg, var(--primary), var(--secondary));
                    border-radius: 3px;
                    animation: pulse-arrow 2s infinite;
                }

                .arch-arrow::after {
                    content: '';
                    position: absolute;
                    bottom: 10px;
                    left: 50%;
                    transform: translateX(-50%);
                    border-left: 10px solid transparent;
                    border-right: 10px solid transparent;
                    border-top: 12px solid var(--secondary);
                }

                @keyframes pulse-arrow {

                    0%,
                    100% {
                        opacity: 0.6;
                    }

                    50% {
                        opacity: 1;
                    }
                }

                .arch-main-box {
                    background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);
                    border: 2px solid var(--primary);
                    border-radius: 16px;
                    padding: 25px 40px;
                    text-align: center;
                    display: inline-block;
                    position: relative;
                }

                .arch-main-box .main-icon {
                    font-size: 2.5rem;
                    margin-bottom: 10px;
                }

                .arch-main-box .main-title {
                    font-size: 1.2rem;
                    font-weight: 700;
                    background: linear-gradient(90deg, var(--primary), var(--secondary));
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                }

                .arch-main-box .main-subtitle {
                    font-size: 0.85rem;
                    color: var(--text-muted);
                }

                .arch-processing {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    gap: 20px;
                    flex-wrap: wrap;
                    margin: 20px 0;
                }

                .arch-process-box {
                    background: linear-gradient(135deg, var(--surface-light) 0%, var(--surface) 100%);
                    border: 1px solid rgba(255, 255, 255, 0.15);
                    border-radius: 12px;
                    padding: 20px;
                    text-align: center;
                    min-width: 160px;
                    position: relative;
                }

                .arch-process-box.transcription {
                    border-top: 3px solid #06b6d4;
                }

                .arch-process-box.extraction {
                    border-top: 3px solid #8b5cf6;
                }

                .arch-process-box.storage {
                    border-top: 3px solid #22c55e;
                }

                .arch-process-box .process-icon {
                    font-size: 2rem;
                    margin-bottom: 10px;
                }

                .arch-process-box .process-title {
                    font-weight: 600;
                    margin-bottom: 10px;
                    color: var(--text);
                }

                .arch-process-box .process-items {
                    font-size: 0.8rem;
                    color: var(--text-muted);
                    text-align: left;
                }

                .arch-process-box .process-items li {
                    padding: 3px 0;
                    list-style: none;
                }

                .arch-process-box .process-items li::before {
                    content: '‚Ä¢';
                    color: var(--primary);
                    margin-right: 8px;
                }

                .arch-flow-arrow {
                    font-size: 1.5rem;
                    color: var(--primary);
                    animation: flow-pulse 1.5s infinite;
                }

                @keyframes flow-pulse {

                    0%,
                    100% {
                        opacity: 0.5;
                        transform: translateX(0);
                    }

                    50% {
                        opacity: 1;
                        transform: translateX(5px);
                    }
                }

                .arch-query-grid {
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    gap: 15px;
                    margin-bottom: 20px;
                }

                .arch-query-box {
                    background: rgba(255, 255, 255, 0.03);
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    border-radius: 12px;
                    padding: 20px;
                    text-align: center;
                    transition: all 0.3s ease;
                }

                .arch-query-box:hover {
                    background: rgba(102, 126, 234, 0.1);
                    border-color: var(--primary);
                }

                .arch-query-box.graph {
                    border-left: 3px solid #22c55e;
                }

                .arch-query-box.semantic {
                    border-left: 3px solid #3b82f6;
                }

                .arch-query-box.verify {
                    border-left: 3px solid #f59e0b;
                }

                .arch-query-box .query-icon {
                    font-size: 1.5rem;
                    margin-bottom: 8px;
                }

                .arch-query-box .query-title {
                    font-weight: 600;
                    font-size: 0.9rem;
                }

                .arch-query-box .query-subtitle {
                    font-size: 0.75rem;
                    color: var(--text-muted);
                }

                .arch-center-wrapper {
                    display: flex;
                    justify-content: center;
                }

                .arch-merge-lines {
                    display: flex;
                    justify-content: center;
                    padding: 10px 0;
                }

                .arch-merge-lines svg {
                    width: 200px;
                    height: 30px;
                }

                .arch-hybrid-box {
                    background: linear-gradient(135deg, rgba(102, 126, 234, 0.3) 0%, rgba(118, 75, 162, 0.3) 100%);
                    border: 2px solid var(--primary);
                    border-radius: 12px;
                    padding: 15px 40px;
                    text-align: center;
                    animation: glow 3s infinite;
                }

                @keyframes glow {

                    0%,
                    100% {
                        box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
                    }

                    50% {
                        box-shadow: 0 0 40px rgba(102, 126, 234, 0.5);
                    }
                }

                .arch-hybrid-box .hybrid-icon {
                    font-size: 1.5rem;
                    margin-bottom: 5px;
                }

                .arch-hybrid-box .hybrid-title {
                    font-weight: 700;
                    background: linear-gradient(90deg, var(--primary), var(--secondary));
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                }

                @media (max-width: 768px) {
                    .arch-query-grid {
                        grid-template-columns: 1fr;
                    }

                    .arch-processing {
                        flex-direction: column;
                    }

                    .arch-flow-arrow {
                        transform: rotate(90deg);
                    }
                }
            </style>

            <div class="arch-container">
                <!-- Input Layer -->
                <div class="arch-layer">
                    <span class="arch-layer-title">üì• Input Layer</span>
                    <div class="arch-boxes">
                        <div class="arch-box">
                            <div class="icon">üì∫</div>
                            <div class="title">YouTube URL</div>
                            <div class="subtitle">Video links</div>
                        </div>
                        <div class="arch-box">
                            <div class="icon">üìã</div>
                            <div class="title">Batch JSON</div>
                            <div class="subtitle">Multiple videos</div>
                        </div>
                        <div class="arch-box">
                            <div class="icon">üñ•Ô∏è</div>
                            <div class="title">Streamlit UI</div>
                            <div class="subtitle">Web interface</div>
                        </div>
                        <div class="arch-box">
                            <div class="icon">‚å®Ô∏è</div>
                            <div class="title">CLI</div>
                            <div class="subtitle">Command line</div>
                        </div>
                    </div>
                </div>

                <!-- Arrow -->
                <div class="arch-arrow"></div>

                <!-- Orchestration Layer -->
                <div class="arch-layer">
                    <span class="arch-layer-title">‚öôÔ∏è Orchestration Layer</span>
                    <div class="arch-center-wrapper">
                        <div class="arch-main-box">
                            <div class="main-icon">üéØ</div>
                            <div class="main-title">PodcastKnowledgeSystem</div>
                            <div class="main-subtitle">main.py - Central Orchestrator</div>
                        </div>
                    </div>
                </div>

                <!-- Arrow -->
                <div class="arch-arrow"></div>

                <!-- Processing Layer -->
                <div class="arch-layer">
                    <span class="arch-layer-title">üîÑ Processing Pipeline</span>
                    <div class="arch-processing">
                        <div class="arch-process-box transcription">
                            <div class="process-icon">üéµ</div>
                            <div class="process-title">Transcription</div>
                            <ul class="process-items">
                                <li>yt-dlp download</li>
                                <li>AssemblyAI API</li>
                                <li>Speaker diarization</li>
                            </ul>
                        </div>
                        <div class="arch-flow-arrow">‚Üí</div>
                        <div class="arch-process-box extraction">
                            <div class="process-icon">üß†</div>
                            <div class="process-title">Entity Extraction</div>
                            <ul class="process-items">
                                <li>GPT-4 Turbo</li>
                                <li>Chunking logic</li>
                                <li>Deduplication</li>
                            </ul>
                        </div>
                        <div class="arch-flow-arrow">‚Üí</div>
                        <div class="arch-process-box storage">
                            <div class="process-icon">üíæ</div>
                            <div class="process-title">Storage</div>
                            <ul class="process-items">
                                <li>Neo4j Graph</li>
                                <li>ChromaDB Vectors</li>
                                <li>Local Cache</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Arrow -->
                <div class="arch-arrow"></div>

                <!-- Query Layer -->
                <div class="arch-layer">
                    <span class="arch-layer-title">üîç Query Layer</span>
                    <div class="arch-query-grid">
                        <div class="arch-query-box graph">
                            <div class="query-icon">üîó</div>
                            <div class="query-title">Graph Queries</div>
                            <div class="query-subtitle">Cypher / Neo4j</div>
                        </div>
                        <div class="arch-query-box semantic">
                            <div class="query-icon">üìä</div>
                            <div class="query-title">Semantic Search</div>
                            <div class="query-subtitle">Embeddings / ChromaDB</div>
                        </div>
                        <div class="arch-query-box verify">
                            <div class="query-icon">üõ°Ô∏è</div>
                            <div class="query-title">Verification</div>
                            <div class="query-subtitle">Anti-Hallucination</div>
                        </div>
                    </div>
                    <div class="arch-merge-lines">
                        <svg viewBox="0 0 200 30">
                            <path d="M30 0 L30 15 L100 15" stroke="url(#grad1)" stroke-width="2" fill="none" />
                            <path d="M100 0 L100 15" stroke="url(#grad1)" stroke-width="2" fill="none" />
                            <path d="M170 0 L170 15 L100 15" stroke="url(#grad1)" stroke-width="2" fill="none" />
                            <path d="M100 15 L100 30" stroke="url(#grad1)" stroke-width="3" fill="none" />
                            <defs>
                                <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#667eea" />
                                    <stop offset="100%" style="stop-color:#764ba2" />
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                    <div class="arch-center-wrapper">
                        <div class="arch-hybrid-box">
                            <div class="hybrid-icon">‚ö°</div>
                            <div class="hybrid-title">Hybrid Query Engine</div>
                        </div>
                    </div>
                </div>

                <!-- Arrow -->
                <div class="arch-arrow"></div>

                <!-- Output Layer -->
                <div class="arch-layer">
                    <span class="arch-layer-title">üì§ Output Layer</span>
                    <div class="arch-boxes">
                        <div class="arch-box">
                            <div class="icon">üí¨</div>
                            <div class="title">Answers</div>
                            <div class="subtitle">Natural language</div>
                        </div>
                        <div class="arch-box">
                            <div class="icon">üìö</div>
                            <div class="title">Sources</div>
                            <div class="subtitle">With citations</div>
                        </div>
                        <div class="arch-box">
                            <div class="icon">üìà</div>
                            <div class="title">Visualizations</div>
                            <div class="subtitle">Graph & charts</div>
                        </div>
                        <div class="arch-box">
                            <div class="icon">üîó</div>
                            <div class="title">YouTube Links</div>
                            <div class="subtitle">Timestamp URLs</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Processing Pipeline -->
        <section id="pipeline">
            <h2>‚ö° Processing Pipeline</h2>

            <div class="flow-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>Audio Download</h4>
                    <p>YouTube video audio extracted as MP3 using yt-dlp. Cached locally to avoid re-downloading.</p>
                </div>
            </div>

            <div class="flow-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>Transcription with Diarization</h4>
                    <p>AssemblyAI processes audio to generate timestamped transcript with speaker labels (Speaker A, B,
                        etc.)</p>
                </div>
            </div>

            <div class="flow-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>Chunking</h4>
                    <p>Transcript split into ~2000 token chunks while preserving segment boundaries and timestamps.</p>
                </div>
            </div>

            <div class="flow-step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h4>Entity Extraction</h4>
                    <p>GPT-4 extracts structured entities (People, Books, Movies, Companies, Topics) with confidence
                        scores and sentiment.</p>
                </div>
            </div>

            <div class="flow-step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <h4>Deduplication</h4>
                    <p>Entities normalized and merged. Duplicates combined with aggregated metadata and mention counts.
                    </p>
                </div>
            </div>

            <div class="flow-step">
                <div class="step-number">6</div>
                <div class="step-content">
                    <h4>Knowledge Graph Construction</h4>
                    <p>Nodes and relationships created in Neo4j. Episode linked to Podcast, entities linked with
                        MENTIONED_IN, DISCUSSED_IN, etc.</p>
                </div>
            </div>

            <div class="flow-step">
                <div class="step-number">7</div>
                <div class="step-content">
                    <h4>Vector Embeddings</h4>
                    <p>Transcript chunks embedded using OpenAI and stored in ChromaDB with rich metadata for filtered
                        search.</p>
                </div>
            </div>
        </section>

        <!-- Query Types -->
        <section id="queries">
            <h2>üîç Query Types</h2>

            <table>
                <thead>
                    <tr>
                        <th>Type</th>
                        <th>Use Case</th>
                        <th>Example</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge primary">GRAPH</span></td>
                        <td>Relationships, lists, connections</td>
                        <td>"List all books recommended by David Senra"</td>
                    </tr>
                    <tr>
                        <td><span class="badge primary">SEMANTIC</span></td>
                        <td>Quotes, explanations, content search</td>
                        <td>"What did they say about AI safety?"</td>
                    </tr>
                    <tr>
                        <td><span class="badge primary">HYBRID</span></td>
                        <td>Combined graph + semantic</td>
                        <td>"Trace concept of AI across podcasts"</td>
                    </tr>
                    <tr>
                        <td><span class="badge primary">VERIFY</span></td>
                        <td>Fact checking, claim verification</td>
                        <td>"Did Lex Fridman interview Satoshi Nakamoto?"</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Hallucination Prevention -->
        <section id="anti-hallucination">
            <h2>üõ°Ô∏è Hallucination Prevention</h2>

            <div class="alert alert-danger">
                <strong>Critical Feature:</strong> The system implements multiple verification layers to prevent AI
                hallucinations.
            </div>

            <div class="card">
                <h3>Verification Layers</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Layer</th>
                            <th>Check</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1. Entity Verification</td>
                            <td>Does the entity exist in graph?</td>
                            <td>Reject if entity not found</td>
                        </tr>
                        <tr>
                            <td>2. Relationship Check</td>
                            <td>Does claimed relationship exist?</td>
                            <td>Verify before answering</td>
                        </tr>
                        <tr>
                            <td>3. Date Filtering</td>
                            <td>Is content within date range?</td>
                            <td>Filter out-of-range results</td>
                        </tr>
                        <tr>
                            <td>4. Speaker Validation</td>
                            <td>Did speaker appear in episode?</td>
                            <td>Verify attribution</td>
                        </tr>
                        <tr>
                            <td>5. Evidence-Based Synthesis</td>
                            <td>Is answer based on retrieved data?</td>
                            <td>Never invent information</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- UAT Scenarios -->
        <section id="uat">
            <h2>üß™ UAT Test Scenarios</h2>

            <div class="card-grid">
                <div class="card">
                    <h4>Entity Extraction (UAT-01 to UAT-10)</h4>
                    <ul>
                        <li>Book recommendations with filters</li>
                        <li>Movie metaphor extraction</li>
                        <li>Common guests between podcasts</li>
                        <li>Company sentiment tracking</li>
                        <li>Entity disambiguation</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Hallucination Resistance (UAT-11 to UAT-20)</h4>
                    <ul>
                        <li>False premise rejection ‚ö†Ô∏è</li>
                        <li>Fake quote verification ‚ö†Ô∏è</li>
                        <li>Phantom speaker detection ‚ö†Ô∏è</li>
                        <li>Date boundary enforcement</li>
                        <li>Query speed requirements</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Synthesis & Logic (UAT-21 to UAT-30)</h4>
                    <ul>
                        <li>Concept tracing across podcasts</li>
                        <li>Conflict detection between speakers</li>
                        <li>Cross-reference counting</li>
                        <li>Sentiment pivot detection</li>
                        <li>First mention identification</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Module Reference -->
        <section id="modules">
            <h2>üì¶ Module Reference</h2>

            <table>
                <thead>
                    <tr>
                        <th>Module</th>
                        <th>File</th>
                        <th>Key Functions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Configuration</td>
                        <td><code>config.py</code></td>
                        <td>get_settings(), get_logger(), GRAPH_SCHEMA</td>
                    </tr>
                    <tr>
                        <td>Data Models</td>
                        <td><code>models/entities.py</code></td>
                        <td>Entity, Episode, TranscriptSegment, QueryResult</td>
                    </tr>
                    <tr>
                        <td>Transcription</td>
                        <td><code>services/transcription.py</code></td>
                        <td>download_youtube_audio(), transcribe_with_diarization()</td>
                    </tr>
                    <tr>
                        <td>Entity Extraction</td>
                        <td><code>services/entity_extraction.py</code></td>
                        <td>extract_all_entities(), deduplicate_entities()</td>
                    </tr>
                    <tr>
                        <td>Graph Builder</td>
                        <td><code>services/graph_builder.py</code></td>
                        <td>add_episode(), add_entities_batch(), execute_cypher()</td>
                    </tr>
                    <tr>
                        <td>Vector Store</td>
                        <td><code>services/vector_store.py</code></td>
                        <td>add_transcript_chunks(), search(), embed_text()</td>
                    </tr>
                    <tr>
                        <td>Query Engine</td>
                        <td><code>services/query_engine.py</code></td>
                        <td>query(), verify_claim(), generate_cypher()</td>
                    </tr>
                    <tr>
                        <td>Main Orchestrator</td>
                        <td><code>main.py</code></td>
                        <td>process_video(), batch_process(), query()</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Quick Start -->
        <section id="quickstart">
            <h2>üöÄ Quick Start</h2>

            <pre><code># 1. Setup
cd podcast-kg
python -m venv venv && source venv/bin/activate
pip install -r requirements.txt
cp .env.example .env  # Edit with your API keys

# 2. Start Neo4j
docker run -d --name neo4j \
  -p 7474:7474 -p 7687:7687 \
  -e NEO4J_AUTH=neo4j/yourpassword \
  neo4j:latest

# 3. Process a video
python main.py --url "https://youtube.com/watch?v=VIDEO_ID" --podcast "Podcast Name"

# 4. Query
python main.py --query "List all books recommended"

# 5. Launch UI
streamlit run ui/app.py</code></pre>
        </section>

    </div>

    <footer class="footer">
        <div class="container">
            <p>Podcast Knowledge Graph System | Technical Documentation v1.0</p>
            <p>December 2025</p>
        </div>
    </footer>
</body>

</html>